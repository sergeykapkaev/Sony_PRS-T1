**Долго мучался с восстановление книжки.

Висела на Opening book(Классика)


В общем обновился я не той прошивкой(поставил американскую версию на свою русскую читалку)
И она в общем то работала, но не было возможности откатиться или обновить её.

Начал ковырять все доступные прошивки.
И доковырялся вот до чего:
Если вскрыть файл прошивки(update.img), можно внедрить свой скрипт в середину скрипта прошивки.(что я и сделал)
А так как там bash и в принципе почти полноценное linux окружение удалось научиться делать многое.
-Выводить свои картинки о этапах прошивки
-Бекапить разделы
-Писать разделы из Бекапа
- и прочее
Осложнялось все только тем, что все делалось в слепую, через sd карту.
Т.е. пишешь скрипт, закидываешь на карту памяти - наблюдаешь за экраном читалки и по завершении вытаскиваешь карту и смотришь на логи и результаты.

В общем восстановил я свою читалку таким слепым методом за неделю-две.
Проблема была в следующем.
На американской и русской версии перепутаны местами два раздела.
Выяснив это и взяв нужный раздел из русской версии и прошив его в нужное место читалка была восстановлена.

Оставляю ссылки:
1.Скрипт бекапа(просто копируете на карту памяти отформатированную в fat32)
https://yadi.sk/d/t2rSlkDwP70RWQ

2.Полный бекап русской версии книги(Если у вас такая же или подобная ситуация, он должен помочь)
https://yadi.sk/d/AQH9IdXm6hT1_w

Внутри каждого архива есть файл script.sh который собственно и выполняет всю работу.
В нем есть разделы #Reading и #Writing, которые как не сложно догадаться отвечают за чтение(бекап) разделов и за запись(восстановление) разделов.

Для полноценного восстановление русской читалки - нужно закомментировать раздел #Reading знаками #(все строки)
И разкомментировать раздел #Writing

Так же можно разкомментировать строки с чтением служебной информации.


**Увы я не разобрался как выводить лог на экран.
**Он пишется только на SD

Кстати все разделы читалки можно смонтировать под windows утилитой - OSFMount
Это позволит вживую посмотреть раздел.
А HEX редактором можно редактировать версию прошивки открыв весь раздел mmcblk2.img целиком.(Это если вдруг читалка не дает прошить прошивку ниже текущей, можно понизить версию)
